{"ast":null,"code":"import _extends from \"/Users/apple/Downloads/Projetos/Projeto Jam-Stack/Project-portifolio/node_modules/@babel/runtime/helpers/esm/extends\";\nimport _regeneratorRuntime from \"/Users/apple/Downloads/Projetos/Projeto Jam-Stack/Project-portifolio/node_modules/@babel/runtime/regenerator\";\nimport _defineProperty from \"/Users/apple/Downloads/Projetos/Projeto Jam-Stack/Project-portifolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"/Users/apple/Downloads/Projetos/Projeto Jam-Stack/Project-portifolio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/apple/Downloads/Projetos/Projeto Jam-Stack/Project-portifolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/Users/apple/Downloads/Projetos/Projeto Jam-Stack/Project-portifolio/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _jsxFileName = \"/Users/apple/Downloads/Projetos/Projeto Jam-Stack/Project-portifolio/src/components/Modal/FormMensage/index.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n        margin-right: 2rem;\\n      \"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n        margin-right: 1rem;\\n      \"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 92%;\\n  height: 65%;\\n  & form {\\n    display: flex;\\n    position: relative;\\n    flex-direction: column;\\n    justify-content: center;\\n    align-items: center;\\n  }\\n  & form button {\\n    align-self: flex-end;\\n    \", \"\\n  }\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 92%;\\n  height: 25%;\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: flex-end;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 92%;\\n  height: 95%;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-around;\\n  align-items: center;\\n  padding: 2rem;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n/* eslint-disable operator-linebreak */\n\n/* eslint-disable indent */\n\n/* eslint-disable react/jsx-props-no-spreading */\nimport React from 'react';\nimport styled, { css } from 'styled-components';\nimport PropTypes from 'prop-types';\nimport { motion } from 'framer-motion';\nimport { breakpointsMedia } from '../../../theme/utils/breakpointMedia';\nimport Text from '../../../foundation';\nimport Button from '../../Button';\nimport TextField from '../../Input';\nimport Result from './Result';\nimport Box from '../../../foundation/Box';\nvar FormMessageWrapper = styled.section(_templateObject());\nFormMessageWrapper.Title = styled.div(_templateObject2());\nFormMessageWrapper.Content = styled.div(_templateObject3(), breakpointsMedia({\n  xs: css(_templateObject4()),\n  md: css(_templateObject5())\n}));\nvar formStates = {\n  DEFAULT: 'DEFAULT',\n  LOADING: 'LOADING',\n  DONE: 'DONE',\n  ERROR: 'ERROR'\n};\n\nvar FormContent = function FormContent() {\n  _s();\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      isFormSubmited = _React$useState2[0],\n      setIsFormSubmited = _React$useState2[1];\n\n  var _React$useState3 = React.useState(formStates.DEFAULT),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      submissionStatus = _React$useState4[0],\n      setSubmissionStatus = _React$useState4[1];\n\n  var _React$useState5 = React.useState({\n    usuario: '',\n    nome: ''\n  }),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      userInfo = _React$useState6[0],\n      setUserInfo = _React$useState6[1]; // eslint-disable-next-line operator-linebreak\n\n\n  var isFormInvalid = userInfo.usuario.length === 0 || userInfo.nome.lenght === 0;\n\n  function resetValues() {\n    return _resetValues.apply(this, arguments);\n  }\n\n  function _resetValues() {\n    _resetValues = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return new Promise(function (resolve) {\n                return setTimeout(resolve, 5000);\n              });\n\n            case 2:\n              setIsFormSubmited(false);\n              setSubmissionStatus(formStates.DEFAULT);\n              setUserInfo({\n                usuario: '',\n                nome: ''\n              });\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _resetValues.apply(this, arguments);\n  }\n\n  function handleChange(ev) {\n    var fieldName = ev.target.getAttribute('name');\n    setUserInfo(_objectSpread(_objectSpread({}, userInfo), {}, _defineProperty({}, fieldName, ev.target.value)));\n  }\n\n  return (// eslint-disable-next-line react/jsx-filename-extension\n    __jsx(\"form\", {\n      onSubmit: function onSubmit(ev) {\n        ev.preventDefault();\n        setIsFormSubmited(true);\n        setSubmissionStatus(formStates.LOADING);\n        var userDTO = {\n          username: userInfo.usuario,\n          name: userInfo.nome\n        };\n        setTimeout(function () {\n          fetch('https://contact-form-api-jamstack.herokuapp.com/message', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(userDTO)\n          }).then(function (respostaDoServidor) {\n            if (respostaDoServidor.ok) {\n              return respostaDoServidor.json();\n            }\n\n            throw new Error('Não foi possível cadastrar o usuário agora :(');\n          }).then(function (respostaConvertidaEmObjeto) {\n            setSubmissionStatus(formStates.DONE);\n            resetValues();\n            console.log(respostaConvertidaEmObjeto);\n          })[\"catch\"](function (error) {\n            setSubmissionStatus(formStates.ERROR);\n            resetValues();\n            console.error(error);\n          });\n        }, 500);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 5\n      }\n    }, __jsx(Text, {\n      variant: \"title\",\n      tag: \"h1\",\n      color: \"tertiary.main\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 7\n      }\n    }, \"Entre em contato conosco\"), __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 7\n      }\n    }, __jsx(TextField, {\n      placeholder: \"Nome\",\n      name: \"nome\",\n      value: userInfo.nome,\n      onChange: handleChange,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }\n    })), __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 7\n      }\n    }, __jsx(TextField, {\n      placeholder: \"Usu\\xE1rio\",\n      name: \"usuario\",\n      value: userInfo.usuario,\n      onChange: handleChange,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }\n    })), __jsx(Button, {\n      variant: \"primary.main\",\n      type: \"submit\",\n      disabled: isFormInvalid,\n      fullWidth: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 7\n      }\n    }, \"Cadastrar\"), __jsx(Box, {\n      display: \"flex\",\n      justifyContent: \"center\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 7\n      }\n    }, __jsx(Box, {\n      width: \"150px\",\n      height: \"150px\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }\n    }, isFormSubmited && submissionStatus === formStates.LOADING && __jsx(Result, {\n      animation: formStates.LOADING,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 13\n      }\n    }), isFormSubmited && submissionStatus === formStates.DONE && __jsx(Result, {\n      animation: formStates.DONE,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 13\n      }\n    }), isFormSubmited && submissionStatus === formStates.ERROR && __jsx(Result, {\n      animation: formStates.ERROR,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 13\n      }\n    }))))\n  );\n}; // eslint-disable-next-line react/prop-types\n\n\n_s(FormContent, \"qATUePySjR66+2nju0ULwo3VXm8=\");\n\n_c = FormContent;\n\nvar FormCadastro = function FormCadastro(_ref) {\n  var props = _ref.props;\n  return __jsx(Box, _extends({\n    boxShadow: \"-10px 0px 24px rgba(7, 12, 14, 0.1)\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    flex: 1,\n    padding: {\n      xs: '16px',\n      md: '85px'\n    },\n    backgroundColor: \"white\" // eslint-disable-next-line react/jsx-props-no-spreading\n\n  }, props, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 3\n    }\n  }), props && __jsx(props.CloseButton, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 15\n    }\n  }), __jsx(FormContent, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 5\n    }\n  }));\n};\n\n_c2 = FormCadastro;\nexport default FormCadastro;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"FormContent\");\n$RefreshReg$(_c2, \"FormCadastro\");","map":{"version":3,"sources":["/Users/apple/Downloads/Projetos/Projeto Jam-Stack/Project-portifolio/src/components/Modal/FormMensage/index.js"],"names":["React","styled","css","PropTypes","motion","breakpointsMedia","Text","Button","TextField","Result","Box","FormMessageWrapper","section","Title","div","Content","xs","md","formStates","DEFAULT","LOADING","DONE","ERROR","FormContent","useState","isFormSubmited","setIsFormSubmited","submissionStatus","setSubmissionStatus","usuario","nome","userInfo","setUserInfo","isFormInvalid","length","lenght","resetValues","Promise","resolve","setTimeout","handleChange","ev","fieldName","target","getAttribute","value","preventDefault","userDTO","username","name","fetch","method","headers","body","JSON","stringify","then","respostaDoServidor","ok","json","Error","respostaConvertidaEmObjeto","console","log","error","FormCadastro","props"],"mappings":"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","sourcesContent":["/* eslint-disable operator-linebreak */\n/* eslint-disable indent */\n/* eslint-disable react/jsx-props-no-spreading */\nimport React from 'react';\nimport styled, { css } from 'styled-components';\nimport PropTypes from 'prop-types';\nimport { motion } from 'framer-motion';\n\nimport { breakpointsMedia } from '../../../theme/utils/breakpointMedia';\nimport Text from '../../../foundation';\nimport Button from '../../Button';\nimport TextField from '../../Input';\nimport Result from './Result';\nimport Box from '../../../foundation/Box';\n\nconst FormMessageWrapper = styled.section`\n  width: 92%;\n  height: 95%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n  padding: 2rem;\n`;\nFormMessageWrapper.Title = styled.div`\n  width: 92%;\n  height: 25%;\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n`;\nFormMessageWrapper.Content = styled.div`\n  width: 92%;\n  height: 65%;\n  & form {\n    display: flex;\n    position: relative;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n  }\n  & form button {\n    align-self: flex-end;\n    ${breakpointsMedia({\n      xs: css`\n        margin-right: 1rem;\n      `,\n      md: css`\n        margin-right: 2rem;\n      `,\n    })}\n  }\n`;\n\nconst formStates = {\n  DEFAULT: 'DEFAULT',\n  LOADING: 'LOADING',\n  DONE: 'DONE',\n  ERROR: 'ERROR',\n};\n\nconst FormContent = () => {\n  const [isFormSubmited, setIsFormSubmited] = React.useState(false);\n  const [submissionStatus, setSubmissionStatus] = React.useState(\n    formStates.DEFAULT,\n  );\n  const [userInfo, setUserInfo] = React.useState({\n    usuario: '',\n    nome: '',\n  });\n\n  // eslint-disable-next-line operator-linebreak\n  const isFormInvalid =\n    userInfo.usuario.length === 0 || userInfo.nome.lenght === 0;\n\n  async function resetValues() {\n    await new Promise((resolve) => setTimeout(resolve, 5000));\n    setIsFormSubmited(false);\n    setSubmissionStatus(formStates.DEFAULT);\n    setUserInfo({ usuario: '', nome: '' });\n  }\n\n  function handleChange(ev) {\n    const fieldName = ev.target.getAttribute('name');\n    setUserInfo({\n      ...userInfo,\n      [fieldName]: ev.target.value,\n    });\n  }\n  return (\n    // eslint-disable-next-line react/jsx-filename-extension\n    <form\n      onSubmit={(ev) => {\n        ev.preventDefault();\n        setIsFormSubmited(true);\n        setSubmissionStatus(formStates.LOADING);\n        const userDTO = { username: userInfo.usuario, name: userInfo.nome };\n        setTimeout(() => {\n          fetch('https://contact-form-api-jamstack.herokuapp.com/message', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(userDTO),\n          })\n            .then((respostaDoServidor) => {\n              if (respostaDoServidor.ok) {\n                return respostaDoServidor.json();\n              }\n              throw new Error('Não foi possível cadastrar o usuário agora :(');\n            })\n            .then((respostaConvertidaEmObjeto) => {\n              setSubmissionStatus(formStates.DONE);\n              resetValues();\n              console.log(respostaConvertidaEmObjeto);\n            })\n            .catch((error) => {\n              setSubmissionStatus(formStates.ERROR);\n              resetValues();\n              console.error(error);\n            });\n        }, 500);\n      }}\n    >\n      <Text variant=\"title\" tag=\"h1\" color=\"tertiary.main\">\n        Entre em contato conosco\n      </Text>\n      <div>\n        <TextField\n          placeholder=\"Nome\"\n          name=\"nome\"\n          value={userInfo.nome}\n          onChange={handleChange}\n        />\n      </div>\n      <div>\n        <TextField\n          placeholder=\"Usuário\"\n          name=\"usuario\"\n          value={userInfo.usuario}\n          onChange={handleChange}\n        />\n      </div>\n      <Button\n        variant=\"primary.main\"\n        type=\"submit\"\n        disabled={isFormInvalid}\n        fullWidth\n      >\n        Cadastrar\n      </Button>\n      <Box display=\"flex\" justifyContent=\"center\">\n        <Box width=\"150px\" height=\"150px\">\n          {isFormSubmited && submissionStatus === formStates.LOADING && (\n            <Result animation={formStates.LOADING} />\n          )}\n          {isFormSubmited && submissionStatus === formStates.DONE && (\n            <Result animation={formStates.DONE} />\n          )}\n          {isFormSubmited && submissionStatus === formStates.ERROR && (\n            <Result animation={formStates.ERROR} />\n          )}\n        </Box>\n      </Box>\n    </form>\n  );\n};\n\n// eslint-disable-next-line react/prop-types\nconst FormCadastro = ({ props }) => (\n  <Box\n    boxShadow=\"-10px 0px 24px rgba(7, 12, 14, 0.1)\"\n    display=\"flex\"\n    flexDirection=\"column\"\n    justifyContent=\"center\"\n    flex={1}\n    padding={{\n      xs: '16px',\n      md: '85px',\n    }}\n    backgroundColor=\"white\"\n    // eslint-disable-next-line react/jsx-props-no-spreading\n    {...props}\n  >\n    {props && <props.CloseButton />}\n    <FormContent />\n  </Box>\n);\n\nexport default FormCadastro;\n"]},"metadata":{},"sourceType":"module"}