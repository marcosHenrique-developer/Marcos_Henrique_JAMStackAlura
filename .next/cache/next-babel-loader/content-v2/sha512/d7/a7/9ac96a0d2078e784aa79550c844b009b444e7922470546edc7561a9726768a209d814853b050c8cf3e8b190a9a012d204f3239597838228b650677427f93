{"ast":null,"code":"import _extends from \"/Users/apple/Downloads/Projetos/Projeto Jam-Stack/Project-portifolio/node_modules/@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"/Users/apple/Downloads/Projetos/Projeto Jam-Stack/Project-portifolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/apple/Downloads/Projetos/Projeto Jam-Stack/Project-portifolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/Users/apple/Downloads/Projetos/Projeto Jam-Stack/Project-portifolio/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _jsxFileName = \"/Users/apple/Downloads/Projetos/Projeto Jam-Stack/Project-portifolio/src/components/Modal/FormMensage/index.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n        margin-right: 2rem;\\n      \"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n        margin-right: 1rem;\\n      \"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 92%;\\n  height: 65%;\\n  & form {\\n    display: flex;\\n    position: relative;\\n    flex-direction: column;\\n    justify-content: center;\\n    align-items: center;\\n  }\\n  & form button {\\n    align-self: flex-end;\\n    \", \"\\n  }\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 92%;\\n  height: 25%;\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: flex-end;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 92%;\\n  height: 95%;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-around;\\n  align-items: center;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n/* eslint-disable operator-linebreak */\n\n/* eslint-disable indent */\n\n/* eslint-disable react/jsx-props-no-spreading */\nimport React from 'react';\nimport styled, { css } from 'styled-components';\nimport PropTypes from 'prop-types';\nimport { motion } from 'framer-motion';\nimport { breakpointsMedia } from '../../../theme/utils/breakpointMedia';\nimport Text from '../../../foundation';\nimport Button from '../../Button';\nimport TextField from '../../Input';\nimport Result from './Result';\nvar FormMessageWrapper = styled.section(_templateObject());\n_c = FormMessageWrapper;\nFormMessageWrapper.Title = styled.div(_templateObject2());\nFormMessageWrapper.Content = styled.div(_templateObject3(), breakpointsMedia({\n  xs: css(_templateObject4()),\n  md: css(_templateObject5())\n}));\nvar formStatus = {\n  DEFAULT: 'DEFAULT',\n  LOADING: 'LOADING',\n  ERROR: 'ERROR',\n  DONE: 'DONE'\n};\nexport default function FormMessage(_ref) {\n  _s();\n\n  var isOpen = _ref.isOpen,\n      onClose = _ref.onClose,\n      propsModal = _ref.propsModal,\n      isFormSubmited = _ref.isFormSubmited,\n      setIsFormSubmited = _ref.setIsFormSubmited;\n\n  var _React$useState = React.useState(true),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      isFieldEmpty = _React$useState2[0],\n      setFieldEmpty = _React$useState2[1];\n\n  var _React$useState3 = React.useState(formStatus.DEFAULT),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      submissionStatus = _React$useState4[0],\n      setSubmissionStatus = _React$useState4[1];\n\n  var _React$useState5 = React.useState({\n    name: '',\n    email: '',\n    message: ''\n  }),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      userInfo = _React$useState6[0],\n      setUserInfo = _React$useState6[1];\n\n  function handleChange(event) {\n    var nameField = event.target.getAttribute('name');\n    var valueField = event.target.value;\n    setUserInfo(_objectSpread(_objectSpread({}, userInfo), {}, _defineProperty({}, nameField, valueField)));\n  }\n\n  function handleBlur(event) {\n    if (event.target.textLength > 0) {\n      setFieldEmpty(false);\n    } else {\n      setFieldEmpty(true);\n    }\n  }\n\n  return (// eslint-disable-next-line react/jsx-filename-extension\n    __jsx(motion.div, _extends({}, propsModal, {\n      variants: {\n        open: {\n          y: 0,\n          opacity: 1,\n          scale: 1,\n          transition: {\n            delayChildren: 0.5,\n            staggerChildren: 0.2\n          }\n        },\n        closed: {\n          y: '-100%',\n          opacity: 0,\n          scale: 0\n        }\n      },\n      transition: {\n        duration: 1\n      },\n      animate: isOpen ? 'open' : 'closed',\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignItems: 'center',\n        backgroundColor: 'white',\n        boxShadow: '3px 2px 5px #009688',\n        borderRadius: '3%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 5\n      }\n    }), __jsx(FormMessageWrapper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 7\n      }\n    }, __jsx(FormMessageWrapper.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }\n    }, __jsx(Text, {\n      tag: \"h2\",\n      mobile: \"subTitleXS\",\n      desktop: \"subTitleMD\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }\n    }, !isFormSubmited && 'Send your message', isFormSubmited && submissionStatus === formStatus.LOADING && 'Loading ...', isFormSubmited && submissionStatus === formStatus.ERROR && 'Try again :(', isFormSubmited && submissionStatus === formStatus.DONE && 'Congratulations :)')), !isFormSubmited && __jsx(FormMessageWrapper.Content, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }\n    }, __jsx(\"form\", {\n      onSubmit: function onSubmit(event) {\n        event.preventDefault();\n        setIsFormSubmited(true);\n        var userDTO = {\n          name: userInfo.name,\n          email: userInfo.email,\n          message: userInfo.message\n        };\n        setSubmissionStatus(formStatus.LOADING);\n        setTimeout(function () {\n          fetch('https://contact-form-api-jamstack.herokuapp.com/message', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(userDTO)\n          }).then(function (response) {\n            if (response.ok) {\n              return response.json();\n            }\n\n            throw new Error('Error on submit request');\n          }).then(function () {\n            setSubmissionStatus(formStatus.DONE);\n          })[\"catch\"](function () {\n            setSubmissionStatus(formStatus.ERROR);\n          });\n        }, 2000);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 13\n      }\n    }, __jsx(TextField, {\n      tag: \"input\",\n      type: \"text\",\n      mobile: \"paragraphXS\",\n      desktop: \"paragraphMD\",\n      value: userInfo.name,\n      name: \"name\",\n      onChange: handleChange,\n      onBlur: handleBlur,\n      placeholder: \"Name\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 15\n      }\n    }), __jsx(TextField, {\n      tag: \"input\",\n      type: \"email\",\n      mobile: \"paragraphXS\",\n      desktop: \"paragraphMD\",\n      value: userInfo.email,\n      name: \"email\",\n      onChange: handleChange,\n      onBlur: handleBlur,\n      placeholder: \"Email\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 15\n      }\n    }), __jsx(TextField, {\n      tag: \"textarea\",\n      mobile: \"paragraphXS\",\n      desktop: \"paragraphMD\",\n      value: userInfo.message,\n      name: \"message\",\n      wrap: \"true\",\n      onChange: handleChange,\n      onBlur: handleBlur,\n      placeholder: \"Type your message here ...\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 15\n      }\n    }), __jsx(Button, {\n      disabled: isFieldEmpty,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 15\n      }\n    }, \"Send\")))), isFormSubmited && submissionStatus === formStatus.DONE && __jsx(Result, {\n      animation: formStatus.DONE,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }\n    }), isFormSubmited && submissionStatus === formStatus.LOADING && __jsx(Result, {\n      animation: formStatus.LOADING,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }\n    }), isFormSubmited && submissionStatus === formStatus.ERROR && __jsx(Result, {\n      animation: formStatus.ERROR,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }\n    }))\n  );\n}\n\n_s(FormMessage, \"dkK5B9u6Ccak6l9rn5EsrcEB+7Y=\");\n\n_c2 = FormMessage;\nFormMessage.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  isFormSubmited: PropTypes.bool.isRequired,\n  setIsFormSubmited: PropTypes.func.isRequired,\n  propsModal: PropTypes.object.isRequired\n};\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"FormMessageWrapper\");\n$RefreshReg$(_c2, \"FormMessage\");","map":{"version":3,"sources":["/Users/apple/Downloads/Projetos/Projeto Jam-Stack/Project-portifolio/src/components/Modal/FormMensage/index.js"],"names":["React","styled","css","PropTypes","motion","breakpointsMedia","Text","Button","TextField","Result","FormMessageWrapper","section","Title","div","Content","xs","md","formStatus","DEFAULT","LOADING","ERROR","DONE","FormMessage","isOpen","onClose","propsModal","isFormSubmited","setIsFormSubmited","useState","isFieldEmpty","setFieldEmpty","submissionStatus","setSubmissionStatus","name","email","message","userInfo","setUserInfo","handleChange","event","nameField","target","getAttribute","valueField","value","handleBlur","textLength","open","y","opacity","scale","transition","delayChildren","staggerChildren","closed","duration","display","flexDirection","justifyContent","alignItems","backgroundColor","boxShadow","borderRadius","preventDefault","userDTO","setTimeout","fetch","method","headers","body","JSON","stringify","then","response","ok","json","Error","propTypes","bool","isRequired","func","object"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,IAAiBC,GAAjB,QAA4B,mBAA5B;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,MAAT,QAAuB,eAAvB;AAEA,SAASC,gBAAT,QAAiC,sCAAjC;AACA,OAAOC,IAAP,MAAiB,qBAAjB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AAEA,IAAMC,kBAAkB,GAAGT,MAAM,CAACU,OAAV,mBAAxB;KAAMD,kB;AAQNA,kBAAkB,CAACE,KAAnB,GAA2BX,MAAM,CAACY,GAAlC;AAOAH,kBAAkB,CAACI,OAAnB,GAA6Bb,MAAM,CAACY,GAApC,qBAYMR,gBAAgB,CAAC;AACjBU,EAAAA,EAAE,EAAEb,GAAF,oBADe;AAIjBc,EAAAA,EAAE,EAAEd,GAAF;AAJe,CAAD,CAZtB;AAsBA,IAAMe,UAAU,GAAG;AACjBC,EAAAA,OAAO,EAAE,SADQ;AAEjBC,EAAAA,OAAO,EAAE,SAFQ;AAGjBC,EAAAA,KAAK,EAAE,OAHU;AAIjBC,EAAAA,IAAI,EAAE;AAJW,CAAnB;AAMA,eAAe,SAASC,WAAT,OAMZ;AAAA;;AAAA,MALDC,MAKC,QALDA,MAKC;AAAA,MAJDC,OAIC,QAJDA,OAIC;AAAA,MAHDC,UAGC,QAHDA,UAGC;AAAA,MAFDC,cAEC,QAFDA,cAEC;AAAA,MADDC,iBACC,QADDA,iBACC;;AAAA,wBACqC3B,KAAK,CAAC4B,QAAN,CAAe,IAAf,CADrC;AAAA;AAAA,MACMC,YADN;AAAA,MACoBC,aADpB;;AAAA,yBAE+C9B,KAAK,CAAC4B,QAAN,CAC9CX,UAAU,CAACC,OADmC,CAF/C;AAAA;AAAA,MAEMa,gBAFN;AAAA,MAEwBC,mBAFxB;;AAAA,yBAK+BhC,KAAK,CAAC4B,QAAN,CAAe;AAC7CK,IAAAA,IAAI,EAAE,EADuC;AAE7CC,IAAAA,KAAK,EAAE,EAFsC;AAG7CC,IAAAA,OAAO,EAAE;AAHoC,GAAf,CAL/B;AAAA;AAAA,MAKMC,QALN;AAAA,MAKgBC,WALhB;;AAUD,WAASC,YAAT,CAAsBC,KAAtB,EAA6B;AAC3B,QAAMC,SAAS,GAAGD,KAAK,CAACE,MAAN,CAAaC,YAAb,CAA0B,MAA1B,CAAlB;AACA,QAAMC,UAAU,GAAGJ,KAAK,CAACE,MAAN,CAAaG,KAAhC;AACAP,IAAAA,WAAW,iCACND,QADM,2BAERI,SAFQ,EAEIG,UAFJ,GAAX;AAID;;AACD,WAASE,UAAT,CAAoBN,KAApB,EAA2B;AACzB,QAAIA,KAAK,CAACE,MAAN,CAAaK,UAAb,GAA0B,CAA9B,EAAiC;AAC/BhB,MAAAA,aAAa,CAAC,KAAD,CAAb;AACD,KAFD,MAEO;AACLA,MAAAA,aAAa,CAAC,IAAD,CAAb;AACD;AACF;;AACD,SACE;AACA,UAAC,MAAD,CAAQ,GAAR,eACML,UADN;AAEE,MAAA,QAAQ,EAAE;AACRsB,QAAAA,IAAI,EAAE;AACJC,UAAAA,CAAC,EAAE,CADC;AAEJC,UAAAA,OAAO,EAAE,CAFL;AAGJC,UAAAA,KAAK,EAAE,CAHH;AAIJC,UAAAA,UAAU,EAAE;AACVC,YAAAA,aAAa,EAAE,GADL;AAEVC,YAAAA,eAAe,EAAE;AAFP;AAJR,SADE;AAURC,QAAAA,MAAM,EAAE;AACNN,UAAAA,CAAC,EAAE,OADG;AAENC,UAAAA,OAAO,EAAE,CAFH;AAGNC,UAAAA,KAAK,EAAE;AAHD;AAVA,OAFZ;AAkBE,MAAA,UAAU,EAAE;AAAEK,QAAAA,QAAQ,EAAE;AAAZ,OAlBd;AAmBE,MAAA,OAAO,EAAEhC,MAAM,GAAG,MAAH,GAAY,QAnB7B;AAoBE,MAAA,KAAK,EAAE;AACLiC,QAAAA,OAAO,EAAE,MADJ;AAELC,QAAAA,aAAa,EAAE,QAFV;AAGLC,QAAAA,cAAc,EAAE,QAHX;AAILC,QAAAA,UAAU,EAAE,QAJP;AAKLC,QAAAA,eAAe,EAAE,OALZ;AAMLC,QAAAA,SAAS,EAAE,qBANN;AAOLC,QAAAA,YAAY,EAAE;AAPT,OApBT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA8BE,MAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,kBAAD,CAAoB,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,IAAD;AAAM,MAAA,GAAG,EAAC,IAAV;AAAe,MAAA,MAAM,EAAC,YAAtB;AAAmC,MAAA,OAAO,EAAC,YAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,CAACpC,cAAD,IAAmB,mBADtB,EAEGA,cAAc,IACbK,gBAAgB,KAAKd,UAAU,CAACE,OADjC,IAEC,aAJJ,EAKGO,cAAc,IACbK,gBAAgB,KAAKd,UAAU,CAACG,KADjC,IAEC,cAPJ,EAQGM,cAAc,IACbK,gBAAgB,KAAKd,UAAU,CAACI,IADjC,IAEC,oBAVJ,CADF,CADF,EAgBG,CAACK,cAAD,IACC,MAAC,kBAAD,CAAoB,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,QAAQ,EAAE,kBAACa,KAAD,EAAW;AACnBA,QAAAA,KAAK,CAACwB,cAAN;AACApC,QAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACA,YAAMqC,OAAO,GAAG;AACd/B,UAAAA,IAAI,EAAEG,QAAQ,CAACH,IADD;AAEdC,UAAAA,KAAK,EAAEE,QAAQ,CAACF,KAFF;AAGdC,UAAAA,OAAO,EAAEC,QAAQ,CAACD;AAHJ,SAAhB;AAKAH,QAAAA,mBAAmB,CAACf,UAAU,CAACE,OAAZ,CAAnB;AACA8C,QAAAA,UAAU,CAAC,YAAM;AACfC,UAAAA,KAAK,CACH,yDADG,EAEH;AACEC,YAAAA,MAAM,EAAE,MADV;AAEEC,YAAAA,OAAO,EAAE;AACP,8BAAgB;AADT,aAFX;AAKEC,YAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeP,OAAf;AALR,WAFG,CAAL,CAUGQ,IAVH,CAUQ,UAACC,QAAD,EAAc;AAClB,gBAAIA,QAAQ,CAACC,EAAb,EAAiB;AACf,qBAAOD,QAAQ,CAACE,IAAT,EAAP;AACD;;AACD,kBAAM,IAAIC,KAAJ,CAAU,yBAAV,CAAN;AACD,WAfH,EAgBGJ,IAhBH,CAgBQ,YAAM;AACVxC,YAAAA,mBAAmB,CAACf,UAAU,CAACI,IAAZ,CAAnB;AACD,WAlBH,WAmBS,YAAM;AACXW,YAAAA,mBAAmB,CAACf,UAAU,CAACG,KAAZ,CAAnB;AACD,WArBH;AAsBD,SAvBS,EAuBP,IAvBO,CAAV;AAwBD,OAlCH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAqCE,MAAC,SAAD;AACE,MAAA,GAAG,EAAC,OADN;AAEE,MAAA,IAAI,EAAC,MAFP;AAGE,MAAA,MAAM,EAAC,aAHT;AAIE,MAAA,OAAO,EAAC,aAJV;AAKE,MAAA,KAAK,EAAEgB,QAAQ,CAACH,IALlB;AAME,MAAA,IAAI,EAAC,MANP;AAOE,MAAA,QAAQ,EAAEK,YAPZ;AAQE,MAAA,MAAM,EAAEO,UARV;AASE,MAAA,WAAW,EAAC,MATd;AAUE,MAAA,QAAQ,MAVV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MArCF,EAkDE,MAAC,SAAD;AACE,MAAA,GAAG,EAAC,OADN;AAEE,MAAA,IAAI,EAAC,OAFP;AAGE,MAAA,MAAM,EAAC,aAHT;AAIE,MAAA,OAAO,EAAC,aAJV;AAKE,MAAA,KAAK,EAAET,QAAQ,CAACF,KALlB;AAME,MAAA,IAAI,EAAC,OANP;AAOE,MAAA,QAAQ,EAAEI,YAPZ;AAQE,MAAA,MAAM,EAAEO,UARV;AASE,MAAA,WAAW,EAAC,OATd;AAUE,MAAA,QAAQ,MAVV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAlDF,EA+DE,MAAC,SAAD;AACE,MAAA,GAAG,EAAC,UADN;AAEE,MAAA,MAAM,EAAC,aAFT;AAGE,MAAA,OAAO,EAAC,aAHV;AAIE,MAAA,KAAK,EAAET,QAAQ,CAACD,OAJlB;AAKE,MAAA,IAAI,EAAC,SALP;AAME,MAAA,IAAI,EAAC,MANP;AAOE,MAAA,QAAQ,EAAEG,YAPZ;AAQE,MAAA,MAAM,EAAEO,UARV;AASE,MAAA,WAAW,EAAC,4BATd;AAUE,MAAA,QAAQ,MAVV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA/DF,EA2EE,MAAC,MAAD;AAAQ,MAAA,QAAQ,EAAEhB,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cA3EF,CADF,CAjBJ,CA9BF,EAgIGH,cAAc,IAAIK,gBAAgB,KAAKd,UAAU,CAACI,IAAlD,IACC,MAAC,MAAD;AAAQ,MAAA,SAAS,EAAEJ,UAAU,CAACI,IAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAjIJ,EAmIGK,cAAc,IAAIK,gBAAgB,KAAKd,UAAU,CAACE,OAAlD,IACC,MAAC,MAAD;AAAQ,MAAA,SAAS,EAAEF,UAAU,CAACE,OAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MApIJ,EAsIGO,cAAc,IAAIK,gBAAgB,KAAKd,UAAU,CAACG,KAAlD,IACC,MAAC,MAAD;AAAQ,MAAA,SAAS,EAAEH,UAAU,CAACG,KAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAvIJ;AAFF;AA6ID;;GA5KuBE,W;;MAAAA,W;AA6KxBA,WAAW,CAACuD,SAAZ,GAAwB;AACtBtD,EAAAA,MAAM,EAAEpB,SAAS,CAAC2E,IAAV,CAAeC,UADD;AAEtBvD,EAAAA,OAAO,EAAErB,SAAS,CAAC6E,IAAV,CAAeD,UAFF;AAGtBrD,EAAAA,cAAc,EAAEvB,SAAS,CAAC2E,IAAV,CAAeC,UAHT;AAItBpD,EAAAA,iBAAiB,EAAExB,SAAS,CAAC6E,IAAV,CAAeD,UAJZ;AAKtBtD,EAAAA,UAAU,EAAEtB,SAAS,CAAC8E,MAAV,CAAiBF;AALP,CAAxB","sourcesContent":["/* eslint-disable operator-linebreak */\n/* eslint-disable indent */\n/* eslint-disable react/jsx-props-no-spreading */\nimport React from 'react';\nimport styled, { css } from 'styled-components';\nimport PropTypes from 'prop-types';\nimport { motion } from 'framer-motion';\n\nimport { breakpointsMedia } from '../../../theme/utils/breakpointMedia';\nimport Text from '../../../foundation';\nimport Button from '../../Button';\nimport TextField from '../../Input';\nimport Result from './Result';\n\nconst FormMessageWrapper = styled.section`\n  width: 92%;\n  height: 95%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n`;\nFormMessageWrapper.Title = styled.div`\n  width: 92%;\n  height: 25%;\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n`;\nFormMessageWrapper.Content = styled.div`\n  width: 92%;\n  height: 65%;\n  & form {\n    display: flex;\n    position: relative;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n  }\n  & form button {\n    align-self: flex-end;\n    ${breakpointsMedia({\n      xs: css`\n        margin-right: 1rem;\n      `,\n      md: css`\n        margin-right: 2rem;\n      `,\n    })}\n  }\n`;\nconst formStatus = {\n  DEFAULT: 'DEFAULT',\n  LOADING: 'LOADING',\n  ERROR: 'ERROR',\n  DONE: 'DONE',\n};\nexport default function FormMessage({\n  isOpen,\n  onClose,\n  propsModal,\n  isFormSubmited,\n  setIsFormSubmited,\n}) {\n  const [isFieldEmpty, setFieldEmpty] = React.useState(true);\n  const [submissionStatus, setSubmissionStatus] = React.useState(\n    formStatus.DEFAULT,\n  );\n  const [userInfo, setUserInfo] = React.useState({\n    name: '',\n    email: '',\n    message: '',\n  });\n  function handleChange(event) {\n    const nameField = event.target.getAttribute('name');\n    const valueField = event.target.value;\n    setUserInfo({\n      ...userInfo,\n      [nameField]: valueField,\n    });\n  }\n  function handleBlur(event) {\n    if (event.target.textLength > 0) {\n      setFieldEmpty(false);\n    } else {\n      setFieldEmpty(true);\n    }\n  }\n  return (\n    // eslint-disable-next-line react/jsx-filename-extension\n    <motion.div /* framer motion */\n      {...propsModal}\n      variants={{\n        open: {\n          y: 0,\n          opacity: 1,\n          scale: 1,\n          transition: {\n            delayChildren: 0.5,\n            staggerChildren: 0.2,\n          },\n        },\n        closed: {\n          y: '-100%',\n          opacity: 0,\n          scale: 0,\n        },\n      }}\n      transition={{ duration: 1 }}\n      animate={isOpen ? 'open' : 'closed'}\n      style={{\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignItems: 'center',\n        backgroundColor: 'white',\n        boxShadow: '3px 2px 5px #009688',\n        borderRadius: '3%',\n      }}\n    >\n      <FormMessageWrapper>\n        <FormMessageWrapper.Title>\n          <Text tag=\"h2\" mobile=\"subTitleXS\" desktop=\"subTitleMD\">\n            {!isFormSubmited && 'Send your message'}\n            {isFormSubmited &&\n              submissionStatus === formStatus.LOADING &&\n              'Loading ...'}\n            {isFormSubmited &&\n              submissionStatus === formStatus.ERROR &&\n              'Try again :('}\n            {isFormSubmited &&\n              submissionStatus === formStatus.DONE &&\n              'Congratulations :)'}\n          </Text>\n          {/* <CloseIcon onClick={onClose} />  */}\n        </FormMessageWrapper.Title>\n        {!isFormSubmited && (\n          <FormMessageWrapper.Content>\n            <form\n              onSubmit={(event) => {\n                event.preventDefault();\n                setIsFormSubmited(true);\n                const userDTO = {\n                  name: userInfo.name,\n                  email: userInfo.email,\n                  message: userInfo.message,\n                };\n                setSubmissionStatus(formStatus.LOADING);\n                setTimeout(() => {\n                  fetch(\n                    'https://contact-form-api-jamstack.herokuapp.com/message',\n                    {\n                      method: 'POST',\n                      headers: {\n                        'Content-Type': 'application/json',\n                      },\n                      body: JSON.stringify(userDTO),\n                    },\n                  )\n                    .then((response) => {\n                      if (response.ok) {\n                        return response.json();\n                      }\n                      throw new Error('Error on submit request');\n                    })\n                    .then(() => {\n                      setSubmissionStatus(formStatus.DONE);\n                    })\n                    .catch(() => {\n                      setSubmissionStatus(formStatus.ERROR);\n                    });\n                }, 2000);\n              }}\n            >\n              {/* <UserIcon /> */}\n              <TextField\n                tag=\"input\"\n                type=\"text\"\n                mobile=\"paragraphXS\"\n                desktop=\"paragraphMD\"\n                value={userInfo.name}\n                name=\"name\"\n                onChange={handleChange}\n                onBlur={handleBlur}\n                placeholder=\"Name\"\n                required\n              />\n              {/* <EmailIcon /> */}\n              <TextField\n                tag=\"input\"\n                type=\"email\"\n                mobile=\"paragraphXS\"\n                desktop=\"paragraphMD\"\n                value={userInfo.email}\n                name=\"email\"\n                onChange={handleChange}\n                onBlur={handleBlur}\n                placeholder=\"Email\"\n                required\n              />\n              {/* <MessageIcon /> */}\n              <TextField\n                tag=\"textarea\"\n                mobile=\"paragraphXS\"\n                desktop=\"paragraphMD\"\n                value={userInfo.message}\n                name=\"message\"\n                wrap=\"true\"\n                onChange={handleChange}\n                onBlur={handleBlur}\n                placeholder=\"Type your message here ...\"\n                required\n              />\n              <Button disabled={isFieldEmpty}>Send</Button>\n            </form>\n          </FormMessageWrapper.Content>\n        )}\n      </FormMessageWrapper>\n      {isFormSubmited && submissionStatus === formStatus.DONE && (\n        <Result animation={formStatus.DONE} />\n      )}\n      {isFormSubmited && submissionStatus === formStatus.LOADING && (\n        <Result animation={formStatus.LOADING} />\n      )}\n      {isFormSubmited && submissionStatus === formStatus.ERROR && (\n        <Result animation={formStatus.ERROR} />\n      )}\n    </motion.div>\n  );\n}\nFormMessage.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  isFormSubmited: PropTypes.bool.isRequired,\n  setIsFormSubmited: PropTypes.func.isRequired,\n  propsModal: PropTypes.object.isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}