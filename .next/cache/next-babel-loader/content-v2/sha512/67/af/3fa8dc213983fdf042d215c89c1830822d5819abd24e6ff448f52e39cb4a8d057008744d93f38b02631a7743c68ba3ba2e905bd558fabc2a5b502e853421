{"ast":null,"code":"import _extends from \"/Users/apple/Downloads/Projetos/Projeto Jam-Stack/Project-portifolio/node_modules/@babel/runtime/helpers/esm/extends\";\nimport _regeneratorRuntime from \"/Users/apple/Downloads/Projetos/Projeto Jam-Stack/Project-portifolio/node_modules/@babel/runtime/regenerator\";\nimport _defineProperty from \"/Users/apple/Downloads/Projetos/Projeto Jam-Stack/Project-portifolio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"/Users/apple/Downloads/Projetos/Projeto Jam-Stack/Project-portifolio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/apple/Downloads/Projetos/Projeto Jam-Stack/Project-portifolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/Users/apple/Downloads/Projetos/Projeto Jam-Stack/Project-portifolio/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _jsxFileName = \"/Users/apple/Downloads/Projetos/Projeto Jam-Stack/Project-portifolio/src/components/Modal/FormMensage/index.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n        margin-right: auto;\\n      \"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n        margin-right: auto;\\n      \"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  /* width: 90%; */\\n  & form {\\n    display: flex;\\n    position: relative;\\n    flex-direction: column;\\n    justify-content: center;\\n    align-items: center;\\n    text-align: center;\\n  }\\n  & form button {\\n    align-self: flex-end;\\n    \", \"\\n  }\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 92%;\\n  height: 25%;\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: flex-end;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-around;\\n  align-items: center;\\n  padding: 0.2rem 0.5rem;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n/* eslint-disable react/jsx-closing-tag-location */\n\n/* eslint-disable react/self-closing-comp */\n\n/* eslint-disable operator-linebreak */\n\n/* eslint-disable indent */\n\n/* eslint-disable react/jsx-props-no-spreading */\nimport React from 'react';\nimport styled, { css } from 'styled-components';\nimport { breakpointsMedia } from '../../../theme/utils/breakpointMedia';\nimport Text from '../../../foundation';\nimport Button from '../../Button';\nimport TextField from '../../Input';\nimport Result from './Result';\nimport Box from '../../../foundation/Box';\nvar FormMessageWrapper = styled.section(_templateObject());\n_c = FormMessageWrapper;\nFormMessageWrapper.Title = styled.div(_templateObject2());\nFormMessageWrapper.Content = styled.div(_templateObject3(), breakpointsMedia({\n  xs: css(_templateObject4()),\n  md: css(_templateObject5())\n}));\nvar formStates = {\n  DEFAULT: 'DEFAULT',\n  LOADING: 'LOADING',\n  DONE: 'DONE',\n  ERROR: 'ERROR'\n};\n\nvar FormContent = function FormContent() {\n  _s();\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      isFormSubmited = _React$useState2[0],\n      setIsFormSubmited = _React$useState2[1];\n\n  var _React$useState3 = React.useState(formStates.DEFAULT),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      submissionStatus = _React$useState4[0],\n      setSubmissionStatus = _React$useState4[1];\n\n  var _React$useState5 = React.useState({\n    email: '',\n    nome: '',\n    description: ''\n  }),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      userInfo = _React$useState6[0],\n      setUserInfo = _React$useState6[1]; // eslint-disable-next-line operator-linebreak\n\n\n  var isFormInvalid = userInfo.email.length === 0 || userInfo.nome.lenght === 0 || userInfo.description.lenght === 0;\n\n  function resetValues() {\n    return _resetValues.apply(this, arguments);\n  }\n\n  function _resetValues() {\n    _resetValues = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return new Promise(function (resolve) {\n                return setTimeout(resolve, 5000);\n              });\n\n            case 2:\n              setIsFormSubmited(false);\n              setSubmissionStatus(formStates.DEFAULT);\n              setUserInfo({\n                email: '',\n                nome: '',\n                description: ''\n              });\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _resetValues.apply(this, arguments);\n  }\n\n  function handleChange(ev) {\n    var fieldName = ev.target.getAttribute('name');\n    setUserInfo(_objectSpread(_objectSpread({}, userInfo), {}, _defineProperty({}, fieldName, ev.target.value)));\n  }\n\n  return (// eslint-disable-next-line react/jsx-filename-extension\n    __jsx(FormMessageWrapper.Content, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 5\n      }\n    }, __jsx(FormMessageWrapper.Title, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 7\n      }\n    }, __jsx(Text, {\n      tag: \"h1\",\n      mobile: \"subTitleXS\",\n      desktop: \"subTitleMD\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }\n    }, !isFormSubmited && 'Please type a valid message', isFormSubmited && submissionStatus === formStates.LOADING && 'Loading ...', isFormSubmited && submissionStatus === formStates.ERROR && 'Try again :(', isFormSubmited && submissionStatus === formStates.DONE && 'Congratulations :)')), __jsx(\"form\", {\n      onSubmit: function onSubmit(ev) {\n        ev.preventDefault();\n        setIsFormSubmited(true);\n        setSubmissionStatus(formStates.LOADING); // eslint-disable-next-line max-len\n\n        var userDTO = {\n          username: userInfo.email,\n          name: userInfo.nome,\n          description: userInfo.description\n        };\n        setTimeout(function () {\n          fetch('https://instalura-api.vercel.app/api/users', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(userDTO)\n          }).then(function (respostaDoServidor) {\n            if (respostaDoServidor.ok) {\n              return respostaDoServidor.json();\n            }\n\n            throw new Error('Não foi possível cadastrar o usuário agora :(');\n          }).then(function (respostaConvertidaEmObjeto) {\n            setSubmissionStatus(formStates.DONE);\n            resetValues();\n            console.log(respostaConvertidaEmObjeto);\n          })[\"catch\"](function (error) {\n            setSubmissionStatus(formStates.ERROR);\n            resetValues();\n            console.error(error);\n          });\n        }, 500);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 7\n      }\n    }, __jsx(Text, {\n      variant: \"title\",\n      tag: \"h1\",\n      color: \"tertiary.main\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }\n    }, \"Entre em contato conosco\"), __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }\n    }, __jsx(TextField, {\n      placeholder: \"Nome\",\n      name: \"nome\",\n      value: userInfo.nome,\n      onChange: handleChange,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 11\n      }\n    })), __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }\n    }, __jsx(TextField, {\n      placeholder: \"Email\",\n      name: \"email\",\n      value: userInfo.email,\n      onChange: handleChange,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 11\n      }\n    })), __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }\n    }, __jsx(\"textarea\", {\n      value: userInfo.description,\n      placeholder: \"Digite Algo\",\n      style: {\n        resize: 'none'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 11\n      }\n    })), __jsx(\"div\", {\n      style: {\n        display: 'center',\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }\n    }, __jsx(Button, {\n      variant: \"primary.main\",\n      type: \"submit\",\n      disabled: isFormInvalid,\n      fullWidth: true,\n      margin: \"0\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 11\n      }\n    }, \"Enviar\")), __jsx(Box, {\n      display: \"flex\",\n      justifyContent: \"center\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }\n    }, __jsx(Box, {\n      width: \"150px\",\n      height: \"150px\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 11\n      }\n    }, isFormSubmited && submissionStatus === formStates.LOADING && __jsx(Result, {\n      animation: formStates.LOADING,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 15\n      }\n    }), isFormSubmited && submissionStatus === formStates.DONE && __jsx(Result, {\n      animation: formStates.DONE,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 15\n      }\n    }), isFormSubmited && submissionStatus === formStates.ERROR && __jsx(Result, {\n      animation: formStates.ERROR,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 15\n      }\n    })))))\n  );\n}; // eslint-disable-next-line react/prop-types\n\n\n_s(FormContent, \"5WYmf8Ov5qQVPTcUAraKOMAqaQo=\");\n\n_c2 = FormContent;\n\nvar FormCadastro = function FormCadastro(_ref) {\n  var props = _ref.props;\n  return __jsx(FormMessageWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 3\n    }\n  }, __jsx(Box, _extends({\n    boxShadow: \"3px 2px 5px rgba(7, 12, 14, 0.3)\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    flex: 1,\n    padding: {\n      xs: '16px',\n      md: '30px'\n    },\n    borderRadius: \"1rem\",\n    margin: \"10rem 0 0\",\n    backgroundColor: \"white\" // eslint-disable-next-line react/jsx-props-no-spreading\n\n  }, props, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 5\n    }\n  }), props && __jsx(props.CloseButton, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 17\n    }\n  }), __jsx(FormContent, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }\n  })));\n};\n\n_c3 = FormCadastro;\nexport default FormCadastro;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"FormMessageWrapper\");\n$RefreshReg$(_c2, \"FormContent\");\n$RefreshReg$(_c3, \"FormCadastro\");","map":{"version":3,"sources":["/Users/apple/Downloads/Projetos/Projeto Jam-Stack/Project-portifolio/src/components/Modal/FormMensage/index.js"],"names":["React","styled","css","breakpointsMedia","Text","Button","TextField","Result","Box","FormMessageWrapper","section","Title","div","Content","xs","md","formStates","DEFAULT","LOADING","DONE","ERROR","FormContent","useState","isFormSubmited","setIsFormSubmited","submissionStatus","setSubmissionStatus","email","nome","description","userInfo","setUserInfo","isFormInvalid","length","lenght","resetValues","Promise","resolve","setTimeout","handleChange","ev","fieldName","target","getAttribute","value","preventDefault","userDTO","username","name","fetch","method","headers","body","JSON","stringify","then","respostaDoServidor","ok","json","Error","respostaConvertidaEmObjeto","console","log","error","resize","display","justifyContent","alignItems","FormCadastro","props"],"mappings":"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","sourcesContent":["/* eslint-disable react/jsx-closing-tag-location */\n/* eslint-disable react/self-closing-comp */\n/* eslint-disable operator-linebreak */\n/* eslint-disable indent */\n/* eslint-disable react/jsx-props-no-spreading */\nimport React from 'react';\nimport styled, { css } from 'styled-components';\n\nimport { breakpointsMedia } from '../../../theme/utils/breakpointMedia';\nimport Text from '../../../foundation';\nimport Button from '../../Button';\nimport TextField from '../../Input';\nimport Result from './Result';\nimport Box from '../../../foundation/Box';\n\nconst FormMessageWrapper = styled.section`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n  padding: 0.2rem 0.5rem;\n`;\nFormMessageWrapper.Title = styled.div`\n  width: 92%;\n  height: 25%;\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n`;\nFormMessageWrapper.Content = styled.div`\n  /* width: 90%; */\n  & form {\n    display: flex;\n    position: relative;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n  }\n  & form button {\n    align-self: flex-end;\n    ${breakpointsMedia({\n      xs: css`\n        margin-right: auto;\n      `,\n      md: css`\n        margin-right: auto;\n      `,\n    })}\n  }\n`;\n\nconst formStates = {\n  DEFAULT: 'DEFAULT',\n  LOADING: 'LOADING',\n  DONE: 'DONE',\n  ERROR: 'ERROR',\n};\n\nconst FormContent = () => {\n  const [isFormSubmited, setIsFormSubmited] = React.useState(false);\n  const [submissionStatus, setSubmissionStatus] = React.useState(\n    formStates.DEFAULT,\n  );\n  const [userInfo, setUserInfo] = React.useState({\n    email: '',\n    nome: '',\n    description: '',\n  });\n\n  // eslint-disable-next-line operator-linebreak\n  const isFormInvalid =\n    userInfo.email.length === 0 ||\n    userInfo.nome.lenght === 0 ||\n    userInfo.description.lenght === 0;\n\n  async function resetValues() {\n    await new Promise((resolve) => setTimeout(resolve, 5000));\n    setIsFormSubmited(false);\n    setSubmissionStatus(formStates.DEFAULT);\n    setUserInfo({ email: '', nome: '', description: '' });\n  }\n\n  function handleChange(ev) {\n    const fieldName = ev.target.getAttribute('name');\n    setUserInfo({\n      ...userInfo,\n      [fieldName]: ev.target.value,\n    });\n  }\n  return (\n    // eslint-disable-next-line react/jsx-filename-extension\n    <FormMessageWrapper.Content>\n      <FormMessageWrapper.Title>\n        <Text tag=\"h1\" mobile=\"subTitleXS\" desktop=\"subTitleMD\">\n          {!isFormSubmited && 'Please type a valid message'}\n          {isFormSubmited &&\n            submissionStatus === formStates.LOADING &&\n            'Loading ...'}\n          {isFormSubmited &&\n            submissionStatus === formStates.ERROR &&\n            'Try again :('}\n          {isFormSubmited &&\n            submissionStatus === formStates.DONE &&\n            'Congratulations :)'}\n        </Text>\n      </FormMessageWrapper.Title>\n      <form\n        onSubmit={(ev) => {\n          ev.preventDefault();\n          setIsFormSubmited(true);\n          setSubmissionStatus(formStates.LOADING);\n          // eslint-disable-next-line max-len\n          const userDTO = {\n            username: userInfo.email,\n            name: userInfo.nome,\n            description: userInfo.description,\n          };\n          setTimeout(() => {\n            fetch('https://instalura-api.vercel.app/api/users', {\n              method: 'POST',\n              headers: {\n                'Content-Type': 'application/json',\n              },\n              body: JSON.stringify(userDTO),\n            })\n              .then((respostaDoServidor) => {\n                if (respostaDoServidor.ok) {\n                  return respostaDoServidor.json();\n                }\n                throw new Error(\n                  'Não foi possível cadastrar o usuário agora :(',\n                );\n              })\n              .then((respostaConvertidaEmObjeto) => {\n                setSubmissionStatus(formStates.DONE);\n                resetValues();\n                console.log(respostaConvertidaEmObjeto);\n              })\n              .catch((error) => {\n                setSubmissionStatus(formStates.ERROR);\n                resetValues();\n                console.error(error);\n              });\n          }, 500);\n        }}\n      >\n        <Text variant=\"title\" tag=\"h1\" color=\"tertiary.main\">\n          Entre em contato conosco\n        </Text>\n        <div>\n          <TextField\n            placeholder=\"Nome\"\n            name=\"nome\"\n            value={userInfo.nome}\n            onChange={handleChange}\n          />\n        </div>\n        <div>\n          <TextField\n            placeholder=\"Email\"\n            name=\"email\"\n            value={userInfo.email}\n            onChange={handleChange}\n          />\n        </div>\n        <div>\n          <textarea\n            value={userInfo.description}\n            placeholder=\"Digite Algo\"\n            style={{ resize: 'none' }}\n          ></textarea>\n        </div>\n        <div\n          style={{\n            display: 'center',\n            justifyContent: 'center',\n            alignItems: 'center',\n          }}\n        >\n          <Button\n            variant=\"primary.main\"\n            type=\"submit\"\n            disabled={isFormInvalid}\n            fullWidth\n            margin=\"0\"\n          >\n            Enviar\n          </Button>\n        </div>\n\n        <Box display=\"flex\" justifyContent=\"center\">\n          <Box width=\"150px\" height=\"150px\">\n            {isFormSubmited && submissionStatus === formStates.LOADING && (\n              <Result animation={formStates.LOADING} />\n            )}\n            {isFormSubmited && submissionStatus === formStates.DONE && (\n              <Result animation={formStates.DONE} />\n            )}\n            {isFormSubmited && submissionStatus === formStates.ERROR && (\n              <Result animation={formStates.ERROR} />\n            )}\n          </Box>\n        </Box>\n      </form>\n    </FormMessageWrapper.Content>\n  );\n};\n\n// eslint-disable-next-line react/prop-types\nconst FormCadastro = ({ props }) => (\n  <FormMessageWrapper>\n    <Box\n      boxShadow=\"3px 2px 5px rgba(7, 12, 14, 0.3)\"\n      display=\"flex\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      flex={1}\n      padding={{\n        xs: '16px',\n        md: '30px',\n      }}\n      borderRadius=\"1rem\"\n      margin=\"10rem 0 0\"\n      backgroundColor=\"white\"\n      // eslint-disable-next-line react/jsx-props-no-spreading\n      {...props}\n    >\n      {props && <props.CloseButton />}\n      <FormContent />\n    </Box>\n  </FormMessageWrapper>\n);\n\nexport default FormCadastro;\n"]},"metadata":{},"sourceType":"module"}